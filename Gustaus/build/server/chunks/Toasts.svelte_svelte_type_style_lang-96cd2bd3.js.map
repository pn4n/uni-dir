{"version":3,"file":"Toasts.svelte_svelte_type_style_lang-96cd2bd3.js","sources":["../../../.svelte-kit/adapter-node/chunks/Toasts.svelte_svelte_type_style_lang.js"],"sourcesContent":["import { i as inlangSymbol } from \"./utils.js\";\nimport { w as writable } from \"./index2.js\";\nimport { g as get_store_value } from \"./utils2.js\";\nconst getRuntimeFromGlobalThis = () => {\n  return globalThis[inlangSymbol];\n};\nconst addRuntimeToGlobalThis = (context) => globalThis[inlangSymbol] = context;\nlet id = 1;\nconst ID = () => id++;\nconst DEFAULT_OPTIONS = {\n  closable: false,\n  duration: 5e3,\n  infinite: false,\n  rich: false\n};\nconst DEFAULT_ANIMATION = {\n  start: 0.75,\n  opacity: 0,\n  duration: 150\n};\nconst parseDuration = (value) => {\n  if (typeof value === \"number\")\n    return value;\n  if (!/ms|s$/.test(value))\n    throw new Error(\"[SVoast] `duration` prop was given a string but not a leading identifier (ms/s).\");\n  const duration = parseFloat(value.split(/ms|s/)[0]);\n  if (/(?=ms)(?!s)/.test(value))\n    return duration;\n  return duration * 1e3;\n};\nconst objectMerge = (original, newObject) => {\n  return {\n    ...original,\n    ...newObject\n  };\n};\nconst TOASTS = writable([]);\nconst addToast = (type, message, { opts, id: id2 }) => {\n  const UUID = id2 || ID();\n  const customProps = opts?.component?.[1] || {};\n  const { closable, component, infinite, rich, onMount, onRemove, duration } = objectMerge(DEFAULT_OPTIONS, opts);\n  const DURATION = parseDuration(duration);\n  const props = {\n    id: UUID,\n    type,\n    message,\n    duration: DURATION,\n    closable,\n    component,\n    infinite,\n    rich,\n    ...customProps\n  };\n  if (typeof window !== \"undefined\")\n    onMount?.();\n  upsert(props, UUID);\n  if (!infinite && type !== \"promise\") {\n    setTimeout(() => {\n      removeById(UUID);\n      onRemove?.();\n    }, DURATION);\n  }\n  return UUID;\n};\nconst upsert = (props, id2) => {\n  if (get_store_value(TOASTS).find((toast2) => toast2.id === id2)) {\n    TOASTS.update((toasts) => {\n      return toasts.map((toast2) => {\n        if (toast2.id === id2)\n          return { ...toast2, ...props };\n        return toast2;\n      });\n    });\n  } else {\n    TOASTS.update((toasts) => toasts = get_store_value(position).includes(\"bottom\") ? [...toasts, props] : [props, ...toasts]);\n  }\n};\nconst removeById = (id2) => {\n  if (get_store_value(TOASTS).find((el) => el.id === id2))\n    TOASTS.update((toasts) => toasts.filter((toast2) => toast2.id !== id2));\n};\nconst removeByIndex = (index) => {\n  if (get_store_value(TOASTS)[index])\n    TOASTS.update((toasts) => toasts.filter((_, i) => index !== i));\n};\nconst removeAll = () => {\n  TOASTS.set([]);\n};\nconst info = (message, opts = DEFAULT_OPTIONS) => addToast(\"info\", message, { opts });\nconst attention = (message, opts = DEFAULT_OPTIONS) => addToast(\"attention\", message, { opts });\nconst success = (message, opts = DEFAULT_OPTIONS) => addToast(\"success\", message, { opts });\nconst warning = (message, opts = DEFAULT_OPTIONS) => addToast(\"warning\", message, { opts });\nconst error = (message, opts = DEFAULT_OPTIONS) => addToast(\"error\", message, { opts });\nconst promise = (promise2, opts) => {\n  if (promise2 instanceof Promise === false)\n    throw Error(\"`promise` is not a valid Promise.\");\n  const id2 = addToast(\"promise\", opts.loading, { opts });\n  opts?.onStart?.();\n  promise2.then((data) => {\n    addToast(\"success\", opts.success, { opts, id: id2 });\n    opts?.onSuccess?.(data);\n  }).catch((err) => {\n    addToast(\"error\", opts.error, { opts, id: id2 });\n    opts?.onError?.(err);\n  }).finally(() => {\n    if (!opts?.infinite) {\n      setTimeout(() => {\n        removeById(id2);\n      }, parseDuration(opts.duration || DEFAULT_OPTIONS.duration));\n    }\n    opts?.onFinish?.();\n  });\n};\nconst createStore = () => {\n  const { subscribe } = TOASTS;\n  return {\n    /**\n     * Add a info type toast.\\\n     * Usually indicates information to the user, but isn’t important.\n     * @param message The message to be displayed in the toast.\n     * @param opts Options for the toast.\n     */\n    info,\n    /**\n     * Add an attention type toast.\\\n     * Indicate to the user with important information.\n     * @param message The message to be displayed in the toast.\n     * @param opts Options for the toast.\n     */\n    attention,\n    /**\n     * Add a success type toast.\\\n     * Indicates to the user something good has happened.\n     * @param message The message to be displayed in the toast.\n     * @param opts Options for the toast.\n     */\n    success,\n    /**\n     * Add a warning type toast.\\\n     * Tell the user something may be wrong but isn’t critical.\n     * @param message The message to be displayed in the toast.\n     * @param opts Options for the toast.\n     */\n    warning,\n    /**\n     * Add an error type toast.\\\n     * Alert the user something critical has happened.\n     * @param message The message to be displayed in the toast.\n     * @param opts Options for the toast.\n     */\n    error,\n    /**\n     * Add a promise toast chain.\\\n     * Indicates to the user that something is happening in the background.\n     * @param promise The promise to be used.\n     * @param opts Options for the promise chain.\n     */\n    promise,\n    /**\n     * Remove a toast based on the unique ID.\n     * @param id The unique ID of the toast.\n     */\n    removeById,\n    /**\n     * Remove a toast based on the index.\n     * @param index The index of the toast\n     */\n    removeByIndex,\n    /**\n     * Removes all toasts.\n     */\n    removeAll,\n    subscribe\n  };\n};\nconst toast = createStore();\nconst position = writable(\"bottom-left\");\nconst Toast_svelte_svelte_type_style_lang = \"\";\nconst Toasts_svelte_svelte_type_style_lang = \"\";\nexport {\n  DEFAULT_ANIMATION as D,\n  addRuntimeToGlobalThis as a,\n  getRuntimeFromGlobalThis as g,\n  objectMerge as o,\n  position as p,\n  toast as t\n};\n"],"names":[],"mappings":";;;;AAGK,MAAC,wBAAwB,GAAG,MAAM;AACvC,EAAE,OAAO,UAAU,CAAC,YAAY,CAAC,CAAC;AAClC,EAAE;AACG,MAAC,sBAAsB,GAAG,CAAC,OAAO,KAAK,UAAU,CAAC,YAAY,CAAC,GAAG,QAAQ;AAC/E,IAAI,EAAE,GAAG,CAAC,CAAC;AACX,MAAM,EAAE,GAAG,MAAM,EAAE,EAAE,CAAC;AACtB,MAAM,eAAe,GAAG;AACxB,EAAE,QAAQ,EAAE,KAAK;AACjB,EAAE,QAAQ,EAAE,GAAG;AACf,EAAE,QAAQ,EAAE,KAAK;AACjB,EAAE,IAAI,EAAE,KAAK;AACb,CAAC,CAAC;AACG,MAAC,iBAAiB,GAAG;AAC1B,EAAE,KAAK,EAAE,IAAI;AACb,EAAE,OAAO,EAAE,CAAC;AACZ,EAAE,QAAQ,EAAE,GAAG;AACf,EAAE;AACF,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK;AACjC,EAAE,IAAI,OAAO,KAAK,KAAK,QAAQ;AAC/B,IAAI,OAAO,KAAK,CAAC;AACjB,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1B,IAAI,MAAM,IAAI,KAAK,CAAC,kFAAkF,CAAC,CAAC;AACxG,EAAE,MAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,EAAE,IAAI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/B,IAAI,OAAO,QAAQ,CAAC;AACpB,EAAE,OAAO,QAAQ,GAAG,GAAG,CAAC;AACxB,CAAC,CAAC;AACG,MAAC,WAAW,GAAG,CAAC,QAAQ,EAAE,SAAS,KAAK;AAC7C,EAAE,OAAO;AACT,IAAI,GAAG,QAAQ;AACf,IAAI,GAAG,SAAS;AAChB,GAAG,CAAC;AACJ,EAAE;AACF,MAAM,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC5B,MAAM,QAAQ,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK;AACvD,EAAE,MAAM,IAAI,GAAG,GAAG,IAAI,EAAE,EAAE,CAAC;AAC3B,EAAE,MAAM,WAAW,GAAG,IAAI,EAAE,SAAS,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;AACjD,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,WAAW,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;AAClH,EAAE,MAAM,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC3C,EAAE,MAAM,KAAK,GAAG;AAChB,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,IAAI;AACR,IAAI,OAAO;AACX,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,QAAQ;AACZ,IAAI,SAAS;AACb,IAAI,QAAQ;AACZ,IAAI,IAAI;AACR,IAAI,GAAG,WAAW;AAClB,GAAG,CAAC;AACJ,EAAE,IAAI,OAAO,MAAM,KAAK,WAAW;AACnC,IAAI,OAAO,IAAI,CAAC;AAChB,EAAE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACtB,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,KAAK,SAAS,EAAE;AACvC,IAAI,UAAU,CAAC,MAAM;AACrB,MAAM,UAAU,CAAC,IAAI,CAAC,CAAC;AACvB,MAAM,QAAQ,IAAI,CAAC;AACnB,KAAK,EAAE,QAAQ,CAAC,CAAC;AACjB,GAAG;AACH,EAAE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AACF,MAAM,MAAM,GAAG,CAAC,KAAK,EAAE,GAAG,KAAK;AAC/B,EAAE,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE;AACnE,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK;AAC9B,MAAM,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK;AACpC,QAAQ,IAAI,MAAM,CAAC,EAAE,KAAK,GAAG;AAC7B,UAAU,OAAO,EAAE,GAAG,MAAM,EAAE,GAAG,KAAK,EAAE,CAAC;AACzC,QAAQ,OAAO,MAAM,CAAC;AACtB,OAAO,CAAC,CAAC;AACT,KAAK,CAAC,CAAC;AACP,GAAG,MAAM;AACT,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,GAAG,eAAe,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC;AAC/H,GAAG;AACH,CAAC,CAAC;AACF,MAAM,UAAU,GAAG,CAAC,GAAG,KAAK;AAC5B,EAAE,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,GAAG,CAAC;AACzD,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;AAC5E,CAAC,CAAC;AACF,MAAM,aAAa,GAAG,CAAC,KAAK,KAAK;AACjC,EAAE,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;AACpC,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;AACpE,CAAC,CAAC;AACF,MAAM,SAAS,GAAG,MAAM;AACxB,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AACjB,CAAC,CAAC;AACF,MAAM,IAAI,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,eAAe,KAAK,QAAQ,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AACtF,MAAM,SAAS,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,eAAe,KAAK,QAAQ,CAAC,WAAW,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAChG,MAAM,OAAO,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,eAAe,KAAK,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5F,MAAM,OAAO,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,eAAe,KAAK,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5F,MAAM,KAAK,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,eAAe,KAAK,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AACxF,MAAM,OAAO,GAAG,CAAC,QAAQ,EAAE,IAAI,KAAK;AACpC,EAAE,IAAI,QAAQ,YAAY,OAAO,KAAK,KAAK;AAC3C,IAAI,MAAM,KAAK,CAAC,mCAAmC,CAAC,CAAC;AACrD,EAAE,MAAM,GAAG,GAAG,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;AAC1D,EAAE,IAAI,EAAE,OAAO,IAAI,CAAC;AACpB,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK;AAC1B,IAAI,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;AACzD,IAAI,IAAI,EAAE,SAAS,GAAG,IAAI,CAAC,CAAC;AAC5B,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK;AACpB,IAAI,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;AACrD,IAAI,IAAI,EAAE,OAAO,GAAG,GAAG,CAAC,CAAC;AACzB,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM;AACnB,IAAI,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;AACzB,MAAM,UAAU,CAAC,MAAM;AACvB,QAAQ,UAAU,CAAC,GAAG,CAAC,CAAC;AACxB,OAAO,EAAE,aAAa,CAAC,IAAI,CAAC,QAAQ,IAAI,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;AACnE,KAAK;AACL,IAAI,IAAI,EAAE,QAAQ,IAAI,CAAC;AACvB,GAAG,CAAC,CAAC;AACL,CAAC,CAAC;AACF,MAAM,WAAW,GAAG,MAAM;AAC1B,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;AAC/B,EAAE,OAAO;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI;AACR;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,KAAK;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO;AACX;AACA;AACA;AACA;AACA,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA,IAAI,SAAS;AACb,IAAI,SAAS;AACb,GAAG,CAAC;AACJ,CAAC,CAAC;AACG,MAAC,KAAK,GAAG,WAAW,GAAG;AACvB,MAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa;;;;"}