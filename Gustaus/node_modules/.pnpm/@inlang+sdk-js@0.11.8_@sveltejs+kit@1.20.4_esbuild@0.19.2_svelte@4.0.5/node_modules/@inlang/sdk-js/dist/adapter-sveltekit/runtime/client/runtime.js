import { base } from "$app/paths";
import { initRuntimeWithLanguageInformation } from "../../../runtime/index.js";
export const initSvelteKitClientRuntime = async ({ fetch, language, referenceLanguage, languages, cache = {}, }) => {
    const runtime = initRuntimeWithLanguageInformation({
        readResource: async (language) => (cache[language] ?? (cache[language] = await fetch(`${base}/inlang/${language}.json`).then((response) => response.ok ? response.json() : undefined))),
        referenceLanguage,
        languages,
    });
    if (language) {
        await runtime.loadResource(language);
        runtime.switchLanguage(language);
    }
    return runtime;
};
