"use strict";var g=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var v=(e,t)=>{for(var r in t)g(e,r,{get:t[r],enumerable:!0})},U=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of w(t))!k.call(e,a)&&a!==r&&g(e,a,{get:()=>t[a],enumerable:!(o=N(t,a))||o.enumerable});return e};var J=e=>U(g({},"__esModule",{value:!0}),e);var lo={};v(lo,{acceptUserInvite:()=>io,aggregate:()=>yt,asSearch:()=>So,auth:()=>R,authenticateShare:()=>oo,authentication:()=>W,clearCache:()=>Xr,createCollection:()=>Z,createComment:()=>Y,createDashboard:()=>te,createDashboards:()=>ee,createDirectus:()=>L,createField:()=>re,createFlow:()=>me,createFlows:()=>ae,createFolder:()=>ie,createFolders:()=>ce,createItem:()=>pe,createItems:()=>ne,createNotification:()=>he,createNotifications:()=>de,createOperation:()=>ye,createOperations:()=>ue,createPanel:()=>le,createPanels:()=>Se,createPermission:()=>fe,createPermissions:()=>xe,createPreset:()=>Te,createPresets:()=>Qe,createRelation:()=>be,createRole:()=>Ce,createRoles:()=>je,createShare:()=>De,createShares:()=>Re,createTranslation:()=>ge,createTranslations:()=>Oe,createUser:()=>Fe,createUsers:()=>Pe,createWebhook:()=>Ee,createWebhooks:()=>Ae,deleteCollection:()=>Ne,deleteComment:()=>Ie,deleteDashboard:()=>ke,deleteDashboards:()=>we,deleteField:()=>ve,deleteFile:()=>Je,deleteFiles:()=>Ue,deleteFlow:()=>We,deleteFlows:()=>$e,deleteFolder:()=>Le,deleteFolders:()=>Ge,deleteItem:()=>He,deleteItems:()=>_e,deleteNotification:()=>Be,deleteNotifications:()=>Me,deleteOperation:()=>ze,deleteOperations:()=>qe,deletePanel:()=>Xe,deletePanels:()=>Ve,deletePermission:()=>Ye,deletePermissions:()=>Ke,deletePreset:()=>et,deletePresets:()=>Ze,deleteRelation:()=>tt,deleteRole:()=>ot,deleteRoles:()=>rt,deleteShare:()=>at,deleteShares:()=>st,deleteTranslation:()=>ct,deleteTranslations:()=>mt,deleteUser:()=>nt,deleteUsers:()=>it,deleteWebhook:()=>dt,deleteWebhooks:()=>pt,disableTwoFactor:()=>ho,enableTwoFactor:()=>po,generateHash:()=>Zr,generateTwoFactorSecret:()=>no,generateUid:()=>O,graphql:()=>_,importFile:()=>se,inviteShare:()=>so,inviteUser:()=>co,login:()=>B,logout:()=>q,memoryStorage:()=>F,messageCallback:()=>D,passwordRequest:()=>z,passwordReset:()=>V,pong:()=>E,queryToParams:()=>P,readActivities:()=>ht,readActivity:()=>ut,readCollection:()=>lt,readCollections:()=>St,readDashboard:()=>ft,readDashboards:()=>xt,readExtensions:()=>Qt,readField:()=>jt,readFields:()=>Tt,readFieldsByCollection:()=>bt,readFile:()=>Rt,readFiles:()=>Ct,readFlow:()=>Ot,readFlows:()=>Dt,readFolder:()=>Pt,readFolders:()=>gt,readGraphqlSdl:()=>ir,readItem:()=>At,readItems:()=>Ft,readMe:()=>rr,readNotification:()=>It,readNotifications:()=>Et,readOpenApiSpec:()=>dr,readOperation:()=>wt,readOperations:()=>Nt,readPanel:()=>vt,readPanels:()=>kt,readPermission:()=>Jt,readPermissions:()=>Ut,readPreset:()=>Wt,readPresets:()=>$t,readProviders:()=>X,readRelation:()=>_t,readRelationByCollection:()=>Lt,readRelations:()=>Gt,readRevision:()=>Mt,readRevisions:()=>Ht,readRole:()=>qt,readRoles:()=>Bt,readSettings:()=>zt,readShare:()=>Xt,readShareInfo:()=>ao,readShares:()=>Vt,readSingleton:()=>Kt,readTranslation:()=>Zt,readTranslations:()=>Yt,readUser:()=>tr,readUsers:()=>er,readWebhook:()=>sr,readWebhooks:()=>or,realtime:()=>M,refresh:()=>K,rest:()=>uo,schemaApply:()=>ar,schemaDiff:()=>mr,schemaSnapshot:()=>cr,serverHealth:()=>nr,serverInfo:()=>pr,serverPing:()=>hr,sleep:()=>I,staticToken:()=>G,triggerFlow:()=>Yr,triggerOperation:()=>ro,updateCollection:()=>yr,updateComment:()=>ur,updateDashboard:()=>lr,updateDashboards:()=>Sr,updateField:()=>xr,updateFile:()=>Qr,updateFiles:()=>fr,updateFlow:()=>br,updateFlows:()=>Tr,updateFolder:()=>Cr,updateFolders:()=>jr,updateItem:()=>Dr,updateItems:()=>Rr,updateMe:()=>qr,updateNotification:()=>gr,updateNotifications:()=>Or,updateOperation:()=>Fr,updateOperations:()=>Pr,updatePanel:()=>Er,updatePanels:()=>Ar,updatePermission:()=>Nr,updatePermissions:()=>Ir,updatePreset:()=>kr,updatePresets:()=>wr,updateRelation:()=>vr,updateRole:()=>Jr,updateRoles:()=>Ur,updateSettings:()=>$r,updateShare:()=>Gr,updateShares:()=>Wr,updateSingleton:()=>Lr,updateTranslation:()=>Hr,updateTranslations:()=>_r,updateUser:()=>Br,updateUsers:()=>Mr,updateWebhook:()=>Vr,updateWebhooks:()=>zr,uploadFiles:()=>oe,utilitySort:()=>mo,utilsExport:()=>Kr,utilsImport:()=>to,verifyHash:()=>eo,withToken:()=>yo});module.exports=J(lo);var C="/",$=(e,t)=>(e.endsWith(C)&&(e=e.slice(0,-1)),t.startsWith(C)||(t=C+t),e+t),f=(e,t,r)=>{let o=e.pathname===C?t:$(e.pathname,t),a=new globalThis.URL(o,e);if(r)for(let[m,i]of Object.entries(P(r)))if(i&&typeof i=="object"&&!Array.isArray(i))for(let[h,p]of Object.entries(i))a.searchParams.set(`${m}[${h}]`,String(p));else a.searchParams.set(m,i);return a};var Q=async(e,t,r)=>{t.headers=typeof t.headers=="object"&&!Array.isArray(t.headers)?t.headers:{};let a=r??(i=>typeof i=="object"&&i&&"data"in i?i.data:i),m=await globalThis.fetch(e,t).then(async i=>{let h=i.headers.get("Content-Type")?.toLowerCase();if(h?.startsWith("application/json")){let p=await i.json();if(!i.ok)throw p;return p}if(h?.startsWith("text/html")||h?.startsWith("text/plain")){let p=await i.text();if(!i.ok)throw p;return p}}).catch(i=>{throw i});return a(m)};var F=()=>{let e=null;return{get:async()=>e,set:async t=>{e=t}}};var A={msRefreshBeforeExpires:3e4,autoRefresh:!0},W=(e="cookie",t={})=>r=>{t={...A,...t};let o=null,a=null,m=t.storage??F(),i="autoRefresh"in t?t.autoRefresh:A.autoRefresh,h=typeof t.msRefreshBeforeExpires=="number"?t.msRefreshBeforeExpires:A.msRefreshBeforeExpires,p=()=>{m.set({access_token:null,refresh_token:null,expires:null,expires_at:null})},T=async()=>{try{await o}finally{o=null}},b=async()=>{let s=await m.get();if(o||!s?.expires_at){await T();return}s.expires_at<new Date().getTime()+h&&j().catch(c=>{}),await T()},S=s=>{let c=s.expires??0;s.expires_at=new Date().getTime()+c,m.set(s),i&&c>h&&c<Number.MAX_SAFE_INTEGER&&(a&&clearTimeout(a),a=setTimeout(()=>{a=null,j().catch(n=>{})},c-h))},j=async()=>(o=(async()=>{let c=await m.get();p();let n={method:"POST",headers:{"Content-Type":"application/json"}};e==="json"&&c?.refresh_token&&(n.body=JSON.stringify({refresh_token:c.refresh_token}));let u=f(r.url,"/auth/refresh"),l=await Q(u.toString(),n).catch(y=>{throw y});return S(l),l})().catch(c=>{throw c}),o);return{refresh:j,async login(s,c,n={}){p();let u=n.provider?`/auth/login/${n.provider}`:"/auth/login",l=f(r.url,u),y={email:s,password:c};"otp"in n&&(y.otp=n.otp),"mode"in n&&(y.mode=n.mode);let d=await Q(l.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});return S(d),d},async logout(){let s=await m.get(),c={method:"POST",headers:{"Content-Type":"application/json"}};e==="json"&&s?.refresh_token&&(c.body=JSON.stringify({refresh_token:s.refresh_token}));let n=f(r.url,"/auth/logout");await Q(n.toString(),c,null),a&&clearTimeout(a),p()},async getToken(){return await b(),(await m.get())?.access_token??null},setToken(s){m.set({access_token:s,refresh_token:null,expires:null,expires_at:null})}}};var G=e=>t=>{let r=e??null;return{async getToken(){return r},setToken(o){r=o}}};var L=e=>({url:new URL(e),with(t){return{...this,...t(this)}}});var _=()=>e=>({async query(t,r,o="items"){let a={method:"POST",body:JSON.stringify({query:t,variables:r})},m={};if("getToken"in this){let p=await this.getToken();p&&(m.Authorization=`Bearer ${p}`)}"Content-Type"in m||(m["Content-Type"]="application/json"),a.headers=m;let i=o==="items"?"/graphql":"/graphql/system",h=f(e.url,i);return await Q(h.toString(),a)}});function R(e){return JSON.stringify({...e,type:"auth"})}var E=()=>JSON.stringify({type:"pong"});var D=e=>new Promise((t,r)=>{let o=a=>{try{let m=JSON.parse(a.data);typeof m=="object"&&!Array.isArray(m)&&m!==null&&(e.removeEventListener("message",o),t(m))}catch{e.removeEventListener("message",o),t(a)}};e.addEventListener("message",o),e.addEventListener("error",()=>r()),e.addEventListener("close",()=>r())});function*O(){let e=1;for(;;)yield String(e),e++}var H={authMode:"handshake",heartbeat:!0,reconnect:{delay:1e3,retries:10}};function M(e={}){return t=>{e={...H,...e};let r=null,o=O(),a=0,m=!1,i=s=>"getToken"in s,h=async(s,c)=>{if(e.authMode==="strict"&&i(c)){let n=await c.getToken();n&&s.searchParams.set("access_token",n)}return s},p=async s=>{if("url"in e)return await h(new URL(e.url),s);if(["ws:","wss:"].includes(t.url.protocol))return await h(t.url,s);let c=new URL(t.url.toString());return c.protocol=t.url.protocol==="https:"?"wss:":"ws:",c.pathname="/websocket",await h(c,s)},T=()=>{r=null,o=O()};function b(){e.reconnect&&!m&&a<e.reconnect.retries?(m=!0,setTimeout(()=>{a+=1,this.connect().then(()=>{a=0,m=!1}).catch(()=>{})},Math.max(1,e.reconnect.delay))):m=!1}let S={open:new Set([]),error:new Set([]),close:new Set([]),message:new Set([])},j=async(s,c)=>{for(;s.readyState!==WebSocket.CLOSED;){let n=await D(s).catch(()=>{});if(n){if("type"in n){if(n.type==="auth"&&i(c)){let u=await c.getToken();if(u){s.send(R({access_token:u}));continue}}if(e.heartbeat&&n.type==="ping"){s.send(E());continue}}S.message.forEach(u=>u.call(s,n))}}};return{async connect(){let s=this,c=await p(s);return new Promise((n,u)=>{let l=!1,y=new globalThis.WebSocket(c);y.addEventListener("open",async d=>{if(e.authMode==="handshake"&&i(s)){let x=await s.getToken();x&&y.send(R({access_token:x}))}l=!0,S.open.forEach(x=>x.call(y,d)),j(y,s),n()}),y.addEventListener("error",d=>{S.error.forEach(x=>x.call(y,d)),T(),b.call(this),l||u(d)}),y.addEventListener("close",d=>{S.close.forEach(x=>x.call(y,d)),T(),b.call(this),l||u(d)}),r=y})},disconnect(){r&&r?.readyState===WebSocket.OPEN&&r.close(),r=null},onWebSocket(s,c){if(s==="message"){let n=function(u){if(typeof u.data!="string")return c.call(this,u);try{return c.call(this,JSON.parse(u.data))}catch{return c.call(this,u)}};return S[s].add(n),()=>S[s].delete(n)}return S[s].add(c),()=>S[s].delete(c)},sendMessage(s){if(!r||r?.readyState!==WebSocket.OPEN)throw new Error("websocket connection not OPEN");if(typeof s=="string"){r.send(s);return}"uid"in s||(s.uid=o.next().value),r?.send(JSON.stringify(s))},async subscribe(s,c={}){(!r||r.readyState!==WebSocket.OPEN)&&await this.connect(),"uid"in c||(c.uid=o.next().value);let n=!0,u=r,l=d=>u.send(JSON.stringify(d));l({...c,collection:s,type:"subscribe"});async function*y(){for(;n&&r&&r.readyState===WebSocket.OPEN;){let d=await D(r).catch(()=>{});if(d){if("type"in d&&"status"in d&&d.type==="subscribe"&&d.status==="error")throw d;"type"in d&&"uid"in d&&d.type==="subscription"&&d.uid===c.uid&&(yield d)}}if(e.reconnect&&m){for(;m;)await I(10);r&&r.readyState===WebSocket.OPEN&&(r.send(JSON.stringify({...c,collection:s,type:"subscribe"})),yield*y())}}return{subscription:y(),unsubscribe(){l({uid:c.uid,type:"unsubscribe"}),n=!1}}}}}}var I=e=>new Promise(t=>setTimeout(()=>t(),e));var B=(e,t,r={})=>()=>{let o=r.provider?`/auth/login/${r.provider}`:"/auth/login",a={email:e,password:t};return"otp"in r&&(a.otp=r.otp),"mode"in r&&(a.mode=r.mode),{path:o,method:"POST",body:JSON.stringify(a)}};var q=e=>()=>({path:"/auth/logout",method:"POST",body:JSON.stringify({refresh_token:e})});var z=(e,t)=>()=>({path:"/auth/password/request",method:"POST",body:JSON.stringify({email:e,...t?{reset_url:t}:{}})});var V=(e,t)=>()=>({path:"/auth/password/reset",method:"POST",body:JSON.stringify({token:e,password:t})});var X=()=>()=>({path:"/auth",method:"GET"});var K=(e,t="json")=>()=>({path:"/auth/refresh",method:"POST",body:JSON.stringify({refresh_token:e,...t?{mode:t}:{}})});var Y=(e,t)=>()=>({path:"/activity/comment",params:t??{},body:JSON.stringify(e),method:"POST"});var Z=(e,t)=>()=>({path:"/collections",params:t??{},body:JSON.stringify(e),method:"POST"});var ee=(e,t)=>()=>({path:"/dashboards",params:t??{},body:JSON.stringify(e),method:"POST"}),te=(e,t)=>()=>({path:"/dashboards",params:t??{},body:JSON.stringify(e),method:"POST"});var re=(e,t,r)=>()=>({path:`/fields/${e}`,params:r??{},body:JSON.stringify(t),method:"POST"});var oe=(e,t)=>()=>({path:"/files",method:"POST",body:e,params:t??{},headers:{"Content-Type":"multipart/form-data"}}),se=(e,t={},r)=>()=>({path:"/files/import",method:"POST",body:JSON.stringify({url:e,data:t}),params:r??{}});var ae=(e,t)=>()=>({path:"/flows",params:t??{},body:JSON.stringify(e),method:"POST"}),me=(e,t)=>()=>({path:"/flows",params:t??{},body:JSON.stringify(e),method:"POST"});var ce=(e,t)=>()=>({path:"/folders",params:t??{},body:JSON.stringify(e),method:"POST"}),ie=(e,t)=>()=>({path:"/folders",params:t??{},body:JSON.stringify(e),method:"POST"});var ne=(e,t,r)=>()=>{let o=String(e);if(o.startsWith("directus_"))throw new Error("Cannot use createItems for core collections");return{path:`/items/${o}`,params:r??{},body:JSON.stringify(t),method:"POST"}},pe=(e,t,r)=>()=>{let o=String(e);if(o.startsWith("directus_"))throw new Error("Cannot use createItem for core collections");return{path:`/items/${o}`,params:r??{},body:JSON.stringify(t),method:"POST"}};var de=(e,t)=>()=>({path:"/notifications",params:t??{},body:JSON.stringify(e),method:"POST"}),he=(e,t)=>()=>({path:"/notifications",params:t??{},body:JSON.stringify(e),method:"POST"});var ue=(e,t)=>()=>({path:"/operations",params:t??{},body:JSON.stringify(e),method:"POST"}),ye=(e,t)=>()=>({path:"/operations",params:t??{},body:JSON.stringify(e),method:"POST"});var Se=(e,t)=>()=>({path:"/panels",params:t??{},body:JSON.stringify(e),method:"POST"}),le=(e,t)=>()=>({path:"/panels",params:t??{},body:JSON.stringify(e),method:"POST"});var xe=(e,t)=>()=>({path:"/permissions",params:t??{},body:JSON.stringify(e),method:"POST"}),fe=(e,t)=>()=>({path:"/permissions",params:t??{},body:JSON.stringify(e),method:"POST"});var Qe=(e,t)=>()=>({path:"/presets",params:t??{},body:JSON.stringify(e),method:"POST"}),Te=(e,t)=>()=>({path:"/presets",params:t??{},body:JSON.stringify(e),method:"POST"});var be=e=>()=>({path:"/relations",body:JSON.stringify(e),method:"POST"});var je=(e,t)=>()=>({path:"/roles",params:t??{},body:JSON.stringify(e),method:"POST"}),Ce=(e,t)=>()=>({path:"/roles",params:t??{},body:JSON.stringify(e),method:"POST"});var Re=(e,t)=>()=>({path:"/shares",params:t??{},body:JSON.stringify(e),method:"POST"}),De=(e,t)=>()=>({path:"/shares",params:t??{},body:JSON.stringify(e),method:"POST"});var Oe=(e,t)=>()=>({path:"/translations",params:t??{},body:JSON.stringify(e),method:"POST"}),ge=(e,t)=>()=>({path:"/translations",params:t??{},body:JSON.stringify(e),method:"POST"});var Pe=(e,t)=>()=>({path:"/users",params:t??{},body:JSON.stringify(e),method:"POST"}),Fe=(e,t)=>()=>({path:"/users",params:t??{},body:JSON.stringify(e),method:"POST"});var Ae=(e,t)=>()=>({path:"/webhooks",params:t??{},body:JSON.stringify(e),method:"POST"}),Ee=(e,t)=>()=>({path:"/webhooks",params:t??{},body:JSON.stringify(e),method:"POST"});var Ie=e=>()=>({path:`/activity/comment/${e}`,method:"DELETE"});var Ne=e=>()=>({path:`/collections/${e}`,method:"DELETE"});var we=e=>()=>({path:"/dashboards",body:JSON.stringify(e),method:"DELETE"}),ke=e=>()=>({path:`/dashboards/${e}`,method:"DELETE"});var ve=(e,t)=>()=>({path:`/fields/${e}/${t}`,method:"DELETE"});var Ue=e=>()=>({path:"/files",body:JSON.stringify(e),method:"DELETE"}),Je=e=>()=>({path:`/files/${e}`,method:"DELETE"});var $e=e=>()=>({path:"/flows",body:JSON.stringify(e),method:"DELETE"}),We=e=>()=>({path:`/flows/${e}`,method:"DELETE"});var Ge=e=>()=>({path:"/folders",body:JSON.stringify(e),method:"DELETE"}),Le=e=>()=>({path:`/folders/${e}`,method:"DELETE"});var _e=(e,t)=>()=>{let r=String(e);if(r.startsWith("directus_"))throw new Error("Cannot use deleteItems for core collections");return{path:`/items/${r}`,body:JSON.stringify(Array.isArray(t)?{keys:t}:{query:t}),method:"DELETE"}},He=(e,t)=>()=>{let r=String(e);if(r.startsWith("directus_"))throw new Error("Cannot use deleteItem for core collections");return{path:`/items/${r}/${t}`,method:"DELETE"}};var Me=e=>()=>({path:"/notifications",body:JSON.stringify(e),method:"DELETE"}),Be=e=>()=>({path:`/notifications/${e}`,method:"DELETE"});var qe=e=>()=>({path:"/operations",body:JSON.stringify(e),method:"DELETE"}),ze=e=>()=>({path:`/operations/${e}`,method:"DELETE"});var Ve=e=>()=>({path:"/panels",body:JSON.stringify(e),method:"DELETE"}),Xe=e=>()=>({path:`/panels/${e}`,method:"DELETE"});var Ke=e=>()=>({path:"/permissions",body:JSON.stringify(e),method:"DELETE"}),Ye=e=>()=>({path:`/permissions/${e}`,method:"DELETE"});var Ze=e=>()=>({path:"/presets",body:JSON.stringify(e),method:"DELETE"}),et=e=>()=>({path:`/presets/${e}`,method:"DELETE"});var tt=(e,t)=>()=>({path:`/relations/${e}/${t}`,method:"DELETE"});var rt=e=>()=>({path:"/roles",body:JSON.stringify(e),method:"DELETE"}),ot=e=>()=>({path:`/roles/${e}`,method:"DELETE"});var st=e=>()=>({path:"/shares",body:JSON.stringify(e),method:"DELETE"}),at=e=>()=>({path:`/shares/${e}`,method:"DELETE"});var mt=e=>()=>({path:"/translations",body:JSON.stringify(e),method:"DELETE"}),ct=e=>()=>({path:`/translations/${e}`,method:"DELETE"});var it=e=>()=>({path:"/users",body:JSON.stringify(e),method:"DELETE"}),nt=e=>()=>({path:`/users/${e}`,method:"DELETE"});var pt=e=>()=>({path:"/webhooks",body:JSON.stringify(e),method:"DELETE"}),dt=e=>()=>({path:`/webhooks/${e}`,method:"DELETE"});var ht=e=>()=>({path:"/activity",params:e??{},method:"GET"}),ut=(e,t)=>()=>({path:`/activity/${e}`,params:t??{},method:"GET"});var yt=(e,t)=>()=>{let r=e;return{path:r.startsWith("directus_")?`/${r.substring(9)}`:`/items/${r}`,method:"GET",params:{...t.query??{},...t.groupBy?{groupBy:t.groupBy}:{},aggregate:t.aggregate}}};var St=()=>()=>({path:"/collections",method:"GET"}),lt=e=>()=>({path:`/collections/${e}`,method:"GET"});var xt=e=>()=>({path:"/dashboards",params:e??{},method:"GET"}),ft=(e,t)=>()=>({path:`/dashboards/${e}`,params:t??{},method:"GET"});var Qt=e=>()=>({path:`/extensions/${e}`,method:"GET"});var Tt=()=>()=>({path:"/fields",method:"GET"}),bt=e=>()=>({path:`/fields/${e}`,method:"GET"}),jt=(e,t)=>()=>({path:`/fields/${e}/${t}`,method:"GET"});var Ct=e=>()=>({path:"/files",params:e??{},method:"GET"}),Rt=(e,t)=>()=>({path:`/files/${e}`,params:t??{},method:"GET"});var Dt=e=>()=>({path:"/flows",params:e??{},method:"GET"}),Ot=(e,t)=>()=>({path:`/flows/${e}`,params:t??{},method:"GET"});var gt=e=>()=>({path:"/folders",params:e??{},method:"GET"}),Pt=(e,t)=>()=>({path:`/folders/${e}`,params:t??{},method:"GET"});var Ft=(e,t)=>()=>{let r=String(e);if(r.startsWith("directus_"))throw new Error("Cannot use readItems for core collections");return{path:`/items/${r}`,params:t??{},method:"GET"}},At=(e,t,r)=>()=>{let o=String(e);if(o.startsWith("directus_"))throw new Error("Cannot use readItem for core collections");return{path:`/items/${o}/${t}`,params:r??{},method:"GET"}};var Et=e=>()=>({path:"/notifications",params:e??{},method:"GET"}),It=(e,t)=>()=>({path:`/notifications/${e}`,params:t??{},method:"GET"});var Nt=e=>()=>({path:"/operations",params:e??{},method:"GET"}),wt=(e,t)=>()=>({path:`/operations/${e}`,params:t??{},method:"GET"});var kt=e=>()=>({path:"/panels",params:e??{},method:"GET"}),vt=(e,t)=>()=>({path:`/panels/${e}`,params:t??{},method:"GET"});var Ut=e=>()=>({path:"/permissions",params:e??{},method:"GET"}),Jt=(e,t)=>()=>({path:`/permissions/${e}`,params:t??{},method:"GET"});var $t=e=>()=>({path:"/presets",params:e??{},method:"GET"}),Wt=(e,t)=>()=>({path:`/presets/${e}`,params:t??{},method:"GET"});var Gt=()=>()=>({path:"/relations",method:"GET"}),Lt=e=>()=>({path:`/relations/${e}`,method:"GET"}),_t=(e,t)=>()=>({path:`/relations/${e}/${t}`,method:"GET"});var Ht=e=>()=>({path:"/revisions",params:e??{},method:"GET"}),Mt=(e,t)=>()=>({path:`/revisions/${e}`,params:t??{},method:"GET"});var Bt=e=>()=>({path:"/roles",params:e??{},method:"GET"}),qt=(e,t)=>()=>({path:`/roles/${e}`,params:t??{},method:"GET"});var zt=e=>()=>({path:"/settings",params:e??{},method:"GET"});var Vt=e=>()=>({path:"/shares",params:e??{},method:"GET"}),Xt=(e,t)=>()=>({path:`/shares/${e}`,params:t??{},method:"GET"});var Kt=(e,t)=>()=>{let r=String(e);if(r.startsWith("directus_"))throw new Error("Cannot use readSingleton for core collections");return{path:`/items/${r}`,params:t??{},method:"GET"}};var Yt=e=>()=>({path:"/translations",params:e??{},method:"GET"}),Zt=(e,t)=>()=>({path:`/translations/${e}`,params:t??{},method:"GET"});var er=e=>()=>({path:"/users",params:e??{},method:"GET"}),tr=(e,t)=>()=>({path:`/users/${e}`,params:t??{},method:"GET"}),rr=e=>()=>({path:"/users/me",params:e??{},method:"GET"});var or=e=>()=>({path:"/webhooks",params:e??{},method:"GET"}),sr=(e,t)=>()=>({path:`/webhooks/${e}`,params:t??{},method:"GET"});var ar=e=>()=>({method:"POST",path:"/schema/apply",body:JSON.stringify(e)});var mr=(e,t=!1)=>()=>({method:"POST",path:"/schema/diff",params:t?{force:t}:{},body:JSON.stringify(e)});var cr=()=>()=>({method:"GET",path:"/schema/snapshot"});var ir=(e="item")=>()=>({method:"GET",path:e==="item"?"/server/specs/graphql":"/server/specs/graphql/system"});var nr=()=>()=>({method:"GET",path:"/server/health"});var pr=()=>()=>({method:"GET",path:"/server/info"});var dr=()=>()=>({method:"GET",path:"/server/specs/oas"});var hr=()=>()=>({method:"GET",path:"/server/ping"});var ur=(e,t,r)=>()=>({path:`/activity/comment/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var yr=(e,t,r)=>()=>({path:`/collections/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Sr=(e,t,r)=>()=>({path:"/dashboards",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),lr=(e,t,r)=>()=>({path:`/dashboards/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var xr=(e,t,r,o)=>()=>({path:`/fields/${e}/${t}`,params:o??{},body:JSON.stringify(r),method:"PATCH"});var fr=(e,t,r)=>()=>({path:"/files",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Qr=(e,t,r)=>()=>({path:`/files/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Tr=(e,t,r)=>()=>({path:"/flows",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),br=(e,t,r)=>()=>({path:`/flows/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var jr=(e,t,r)=>()=>({path:"/folders",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Cr=(e,t,r)=>()=>({path:`/folders/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Rr=(e,t,r,o)=>()=>({path:`/items/${String(e)}`,params:o??{},body:JSON.stringify({keys:t,data:r}),method:"PATCH"}),Dr=(e,t,r,o)=>()=>{let a=String(e);if(a.startsWith("directus_"))throw new Error("Cannot use updateItem for core collections");return{path:`/items/${a}/${t}`,params:o??{},body:JSON.stringify(r),method:"PATCH"}};var Or=(e,t,r)=>()=>({path:"/notifications",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),gr=(e,t,r)=>()=>({path:`/notifications/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Pr=(e,t,r)=>()=>({path:"/operations",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Fr=(e,t,r)=>()=>({path:`/operations/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Ar=(e,t,r)=>()=>({path:"/panels",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Er=(e,t,r)=>()=>({path:`/panels/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Ir=(e,t,r)=>()=>({path:"/permissions",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Nr=(e,t,r)=>()=>({path:`/permissions/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var wr=(e,t,r)=>()=>({path:"/presets",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),kr=(e,t,r)=>()=>({path:`/presets/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var vr=(e,t,r,o)=>()=>({path:`/relations/${e}/${t}`,params:o??{},body:JSON.stringify(r),method:"PATCH"});var Ur=(e,t,r)=>()=>({path:"/roles",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Jr=(e,t,r)=>()=>({path:`/roles/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var $r=(e,t)=>()=>({path:"/settings",params:t??{},body:JSON.stringify(e),method:"PATCH"});var Wr=(e,t,r)=>()=>({path:"/shares",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Gr=(e,t,r)=>()=>({path:`/shares/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Lr=(e,t,r)=>()=>{let o=String(e);if(o.startsWith("directus_"))throw new Error("Cannot use updateSingleton for core collections");return{path:`/items/${o}`,params:r??{},body:JSON.stringify(t),method:"PATCH"}};var _r=(e,t,r)=>()=>({path:"/translations",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Hr=(e,t,r)=>()=>({path:`/translations/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Mr=(e,t,r)=>()=>({path:"/users",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Br=(e,t,r)=>()=>({path:`/users/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"}),qr=(e,t)=>()=>({path:"/users/me",params:t??{},body:JSON.stringify(e),method:"PATCH"});var zr=(e,t,r)=>()=>({path:"/webhooks",params:r??{},body:JSON.stringify({keys:e,data:t}),method:"PATCH"}),Vr=(e,t,r)=>()=>({path:`/webhooks/${e}`,params:r??{},body:JSON.stringify(t),method:"PATCH"});var Xr=()=>()=>({method:"POST",path:"/utils/cache/clear"});var Kr=(e,t,r,o)=>()=>({method:"POST",path:`/utils/export/${e}`,body:JSON.stringify({format:t,query:r,file:o})});var Yr=(e,t,r)=>()=>e==="GET"?{path:`/flows/trigger/${t}`,params:r??{},method:"GET"}:{path:`/flows/trigger/${t}`,body:JSON.stringify(r??{}),method:"POST"};var Zr=e=>()=>({method:"POST",path:"/utils/hash/generate",body:JSON.stringify({string:e})}),eo=(e,t)=>()=>({method:"POST",path:"/utils/hash/verify",body:JSON.stringify({string:e,hash:t})});var to=(e,t)=>()=>({path:`/utils/import/${e}`,method:"POST",body:t,headers:{"Content-Type":"multipart/form-data"}});var ro=(e,t)=>()=>({path:`/operations/trigger/${e}`,body:JSON.stringify(t??{}),method:"POST"});var oo=(e,t)=>()=>({path:"/shares/auth",method:"POST",body:JSON.stringify({share:e,password:t})}),so=(e,t)=>()=>({path:"/shares/invite",method:"POST",body:JSON.stringify({share:e,emails:t})}),ao=e=>()=>({path:`/shares/info/${e}`,method:"GET"});var mo=(e,t,r)=>()=>({method:"POST",path:`/utils/sort/${e}`,body:JSON.stringify({item:t,to:r})});var co=(e,t,r)=>()=>({path:"/users/invite",method:"POST",body:JSON.stringify({email:e,role:t,...r?{invite_url:r}:{}})}),io=(e,t)=>()=>({path:"/users/invite/accept",method:"POST",body:JSON.stringify({token:e,password:t})}),no=e=>()=>({path:"/users/me/tfa/generate",method:"POST",body:JSON.stringify({password:e})}),po=(e,t)=>()=>({path:"/users/me/tfa/enable",method:"POST",body:JSON.stringify({secret:e,otp:t})}),ho=e=>()=>({path:"/users/me/tfa/disable",method:"POST",body:JSON.stringify({otp:e})});var uo=(e={})=>t=>({async request(r){let o=r();if(o.headers||(o.headers={}),"Content-Type"in o.headers?o.headers["Content-Type"]==="multipart/form-data"&&delete o.headers["Content-Type"]:o.headers["Content-Type"]="application/json","getToken"in this){let p=await this.getToken();p&&(o.headers||(o.headers={}),o.headers.Authorization=`Bearer ${p}`)}let a=f(t.url,o.path,o.params),m={method:o.method??"GET",headers:o.headers??{}};o.body&&(m.body=o.body),o.onRequest&&(m=await o.onRequest(m)),e.onRequest&&(m=await e.onRequest(m));let i;return e.onResponse&&o.onResponse?i=p=>Promise.resolve(p).then(e.onResponse).then(o.onResponse):"onResponse"in o?i=o.onResponse:"onResponse"in e&&(i=e.onResponse),await Q(a.toString(),m,i)}});var P=e=>{let t={};if(Array.isArray(e.fields)&&e.fields.length>0){let r=(o,a=[])=>{if(typeof o=="object"){let m=[];for(let i in o){let h=o[i]??[];if(Array.isArray(h))for(let p of h)m.push(r(p,[...a,i]));else if(typeof h=="object")for(let p of Object.keys(h)){let T=h[p];for(let b of T)m.push(r(b,[...a,`${i}:${p}`]))}}return m.flatMap(i=>i)}return[...a,String(o)].join(".")};t.fields=e.fields.flatMap(o=>r(o)).join(",")}return e.filter&&Object.keys(e.filter).length>0&&(t.filter=JSON.stringify(e.filter)),e.search&&(t.search=e.search),"sort"in e&&e.sort&&(t.sort=typeof e.sort=="string"?e.sort:e.sort.join(",")),typeof e.limit=="number"&&e.limit>=-1&&(t.limit=String(e.limit)),typeof e.offset=="number"&&e.offset>=0&&(t.offset=String(e.offset)),typeof e.page=="number"&&e.page>=1&&(t.page=String(e.page)),e.deep&&Object.keys(e.deep).length>0&&(t.deep=JSON.stringify(e.deep)),e.alias&&Object.keys(e.alias).length>0&&(t.alias=JSON.stringify(e.alias)),e.aggregate&&Object.keys(e.aggregate).length>0&&(t.aggregate=JSON.stringify(e.aggregate)),e.groupBy&&e.groupBy.length>0&&(t.groupBy=e.groupBy.join(",")),t};function yo(e,t){return()=>{let r=t();return e&&(r.headers||(r.headers={}),r.headers.Authorization=`Bearer ${e}`),r}}function So(e){return()=>{let t=e();return t.method==="GET"&&(t.method="SEARCH",t.body=JSON.stringify({query:t.params}),delete t.params),t}}0&&(module.exports={acceptUserInvite,aggregate,asSearch,auth,authenticateShare,authentication,clearCache,createCollection,createComment,createDashboard,createDashboards,createDirectus,createField,createFlow,createFlows,createFolder,createFolders,createItem,createItems,createNotification,createNotifications,createOperation,createOperations,createPanel,createPanels,createPermission,createPermissions,createPreset,createPresets,createRelation,createRole,createRoles,createShare,createShares,createTranslation,createTranslations,createUser,createUsers,createWebhook,createWebhooks,deleteCollection,deleteComment,deleteDashboard,deleteDashboards,deleteField,deleteFile,deleteFiles,deleteFlow,deleteFlows,deleteFolder,deleteFolders,deleteItem,deleteItems,deleteNotification,deleteNotifications,deleteOperation,deleteOperations,deletePanel,deletePanels,deletePermission,deletePermissions,deletePreset,deletePresets,deleteRelation,deleteRole,deleteRoles,deleteShare,deleteShares,deleteTranslation,deleteTranslations,deleteUser,deleteUsers,deleteWebhook,deleteWebhooks,disableTwoFactor,enableTwoFactor,generateHash,generateTwoFactorSecret,generateUid,graphql,importFile,inviteShare,inviteUser,login,logout,memoryStorage,messageCallback,passwordRequest,passwordReset,pong,queryToParams,readActivities,readActivity,readCollection,readCollections,readDashboard,readDashboards,readExtensions,readField,readFields,readFieldsByCollection,readFile,readFiles,readFlow,readFlows,readFolder,readFolders,readGraphqlSdl,readItem,readItems,readMe,readNotification,readNotifications,readOpenApiSpec,readOperation,readOperations,readPanel,readPanels,readPermission,readPermissions,readPreset,readPresets,readProviders,readRelation,readRelationByCollection,readRelations,readRevision,readRevisions,readRole,readRoles,readSettings,readShare,readShareInfo,readShares,readSingleton,readTranslation,readTranslations,readUser,readUsers,readWebhook,readWebhooks,realtime,refresh,rest,schemaApply,schemaDiff,schemaSnapshot,serverHealth,serverInfo,serverPing,sleep,staticToken,triggerFlow,triggerOperation,updateCollection,updateComment,updateDashboard,updateDashboards,updateField,updateFile,updateFiles,updateFlow,updateFlows,updateFolder,updateFolders,updateItem,updateItems,updateMe,updateNotification,updateNotifications,updateOperation,updateOperations,updatePanel,updatePanels,updatePermission,updatePermissions,updatePreset,updatePresets,updateRelation,updateRole,updateRoles,updateSettings,updateShare,updateShares,updateSingleton,updateTranslation,updateTranslations,updateUser,updateUsers,updateWebhook,updateWebhooks,uploadFiles,utilitySort,utilsExport,utilsImport,verifyHash,withToken});
//# sourceMappingURL=index.cjs.map